<!-- If you reached here and managed to find this thats absolutely poggers, do let me know -->

<script src="../fancy.js"></script>
<script>
    async function redirectPing() {
        var result = false;
        result = await FingerprintJS.load().then(onFingerprintJSLoad);
        console.log(result)
        while (!result){
            await new Promise(r => setTimeout(r, 100));
            console.log(result)
        }
        const queryString = window.location.search;
            console.log(queryString);
            const urlParams = new URLSearchParams(queryString);
            console.log(urlParams.get('redirect'));
            if (urlParams.has('redirect')) { window.location.replace(urlParams.get('redirect')); }

    }
    redirectPing()
    async function guaranteeRedirect() {
        // After 3 seconds
        await new Promise(r => setTimeout(r, 3000));
        console.log("GuaranteedRedirect")
        const queryString = window.location.search;
        console.log(queryString);
        const urlParams = new URLSearchParams(queryString);
        console.log(urlParams.get('redirect'));
        if (urlParams.has('redirect')) { window.location.replace(urlParams.get('redirect')); }

    }
    guaranteeRedirect()
</script>